(function(){var t;t=function(){function t(){var t=this;this.city=null,this.state=null,this.subcategories=[],this.slide=0,this.slides=$(".onboard-cards .card"),this.moveCard=this.slides.parent().get(0),$(".card-location").click(function(e){return t.clickLocationCard(e)}),$(".card-nav .next").click(function(e){return t.clickNavButton(e)}),$(".card-nav .back").click(function(e){return t.clickNavButton(e)}),$("body").on("click",".card .tag-group .tag",function(e){return t.selectTag(e)})}return t.prototype.clickLocationCard=function(t){var e,r;return $(".card-location").removeClass("selected"),$(t.currentTarget).addClass("selected"),$(t.currentTarget).parent().find(".next").addClass("enabled"),e=$(t.currentTarget).data("val"),r=$(t.currentTarget).data("state"),this.city=e,this.state=r},t.prototype.clickNavButton=function(t){return this.slide=$(t.currentTarget).data("slide"),999===this.slide?this.completeOnboard():this.goToSlide()},t.prototype.completeOnboard=function(){var t=this;return $(".r_onboard").addClass("onboard-finished"),$(".page-wrapper").animate({scrollTop:0},"slow"),setTimeout(function(){var e,r,a,s,n,o;for($(".r_onboard").remove(),$(".hidden-dashboard").toggleClass("visible-dashboard"),e={venue_category_name:"restaurant",venue_subcategories:[],city:t.city,state:t.state},o=t.subcategories,s=0,n=o.length;n>s;s++)a=o[s],e.venue_subcategories.push(a);return r=$("#cu").data("id"),$.post("users/"+r+"/onboard_user",e),setTimeout(function(){var t,e;return t=$(".r_dashboard")[0],e=$(".container")[0],e.appendChild(t),$(".hidden-dashboard").remove()},1e3)},1e3)},t.prototype.selectTag=function(t){var e,r,a;return r=$(t.currentTarget),e=$(t.currentTarget).data("cat"),r.hasClass("green")?(a=this.subcategories.indexOf(e),a>-1&&this.subcategories.splice(a,1)):this.subcategories.push(e),r.toggleClass("green"),this.subcategories.length>=3?r.parent().parent().find(".next").addClass("enabled"):r.parent().parent().find(".next").removeClass("enabled")},t.prototype.goToSlide=function(){var t,e,r,a;return e=$(this.slides).parent().offset().left,t=$(this.slides.get(this.slide)).offset().left,r=t-e,a=-1*(t-e),this.moveCard.style["-webkit-transform"]="translateX("+a+"px)",this.moveCard.style["-moz-transform"]="translateX("+a+"px)",this.moveCard.style["-ms-transform"]="translateX("+a+"px)",this.moveCard.style["-o-transform"]="translateX("+a+"px)",this.moveCard.style.transform="translateX("+a+"px)"},t}(),$(document).ready(function(){return new t})}).call(this);