(function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i={}.hasOwnProperty,n=function(t,e){function n(){this.constructor=t}for(var s in e)i.call(e,s)&&(t[s]=e[s]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};document.defaultAvatarSrc="http://fc04.deviantart.net/fs70/f/2013/076/0/f/square_avatar_by_ask_wolfprince-d5ybidu.png",window.InputToTextMocker=function(t){function i(t,n){this.inputSelector=t,this.textSelector=n,this.adjustInputWidth=e(this.adjustInputWidth,this),this.updateText=e(this.updateText,this),this.events=e(this.events,this),this.$input=$(this.inputSelector),this.$text=$(this.textSelector).find("p"),i.__super__.constructor.call(this)}return n(i,t),i.prototype.events=function(){return{"updateText#input":this.inputSelector}},i.prototype.updateText=function(t){var e;return e=$(t.currentTarget).val(),this.$text.text(e),this.adjustInputWidth()},i.prototype.adjustInputWidth=function(){var t;return t=this.$text.outerWidth(),t>400?this.$input.css("width",t+5+"px"):this.$input.css("width","400px")},i}(window.SimpleDomObject),t=function(t){function i(){this.showSearchView=e(this.showSearchView,this),this.showLocationView=e(this.showLocationView,this),this.showLocationViewFromEnter=e(this.showLocationViewFromEnter,this),this.stopSearchQuery=e(this.stopSearchQuery,this),this.showDefaultView=e(this.showDefaultView,this),this.events=e(this.events,this),this.initialize=e(this.initialize,this),this.$el=$(this.el),this.$navInner=this.$el.find(".cs-h-inner"),this.$searchInput=this.$el.find("#cs-h-search-input"),this.$searchInputPlaceholder=this.$el.find("#cs-h-search-input-placeholder"),this.initialize(),i.__super__.constructor.call(this)}return n(i,t),i.prototype.el=".cs-h",i.prototype.initialize=function(){return new InputToTextMocker("#cs-h-search-input","#cs-h-search-input-placeholder")},i.prototype.events=function(){return{"showSearchView#click":".cs-h-search-trigger","showSearchView#focus":"#cs-h-search-input","stopDefaultNavAction#click":".cs-h","showDefaultView#click":document,"showLocationViewFromEnter#keydown":"#cs-h-search-input","showLocationView#click":".cs-h-search-button","showLocationView#focus":"#cs-h-location-input","stopSearchQuery#click":".cs-h-push:not(.cs-h-location) button.cs-h-search-button"}},i.prototype.showDefaultView=function(){return this.$navInner.hasClass("cs-h-push")&&this.$navInner.removeClass("cs-h-push"),this.$navInner.hasClass("cs-h-location")?this.$navInner.removeClass("cs-h-location"):void 0},i.prototype.stopSearchQuery=function(t){return t.stopPropagation(),t.preventDefault(),!1},i.prototype.showLocationViewFromEnter=function(t){return 13===t.keyCode?(this.$navInner.addClass("cs-h-location"),this.$navInner.find("#cs-h-location-input").focus(),this.stopSearchQuery(t)):void 0},i.prototype.showLocationView=function(){return this.$navInner.addClass("cs-h-location")},i.prototype.showSearchView=function(){var t;return t=this.$navInner.find("#cs-h-search-input"),this.$navInner.addClass("cs-h-push"),document.activeElement!==$("#cs-h-search-input").get(0)&&$("#cs-h-search-input").focus(),this.$navInner.hasClass("cs-h-location")?this.$navInner.removeClass("cs-h-location"):void 0},i.prototype.stopDefaultNavAction=function(t){return t.stopPropagation()},i}(SimpleDomObject),$(document).ready(function(){var e;return e=new t("element")})}).call(this);